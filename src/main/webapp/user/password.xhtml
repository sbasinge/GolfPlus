<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:s="http://jboss.org/seam/faces"
                xmlns:pf="http://primefaces.org/ui"
                xmlns:p="http://http://java.sun.com/jsf/composite/components/property"
                template="/WEB-INF/layout/template.xhtml">

    <ui:define name="content">

        <div class="section">
            <h1>Change Your Password</h1>
        </div>

        <div class="section">

            <div class="errors">
                <h:messages id="messages" globalOnly="true"/>
            </div>

            <h:form id="pwdForm" prependId="false">

                <fieldset>

                    <p:input id="current" label="Current password">
                        <h:inputSecret id="input" value="#{currentUser.password}" styleClass="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all">
                            <f:validator validatorId="currentPassword"/>
                        </h:inputSecret>
                    </p:input>

                    <p:input id="new" label="New password">
                        <pf:password id="input" value="#{currentUser.password}"/>
                    </p:input>

                    <p:input id="confirm" label="Confirm password">
                        <h:inputSecret id="input" value="#{passwordManager.confirmPassword}" styleClass="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all"/>
                    </p:input>
                </fieldset>
				<br/>
                   <div class="buttonBox">
                       <pf:commandButton id="change" value="Change" action="#{passwordManager.changePassword}"/>
                       #{' '}
                       <pf:button id="cancel" value="Cancel" outcome="/home.xhtml"/>
                   </div>
                <s:validateForm id="passwordCheck" validatorId="confirmPassword"
                                fields="password=new:input confirmPassword=confirm:input"/>
            </h:form>
        </div>

    </ui:define>

    <ui:define name="sidebar">
        <div class="content">
            <h1>Your privacy</h1>

            <p>
                A secure password will protect your personal information from falling into the wrong hands.  There is no financial information stored
                on GolfPlus+ but your email address and optionally cell phone information is.  Your privacy is important to us, so please create
                a <strong>Strong</strong> password.  It should consist of letters and numbers, be at least 8 characters long and not be the name
                of your first child, your birthdate or anything else that makes sense.  It's these items that the social engineering crowd can use
                against you.  So make your password something really obtuse and preserve it in a special area of your grey matter.  
            </p>
        </div>
    </ui:define>

</ui:composition>
