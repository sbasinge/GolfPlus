<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:m="http://java.sun.com/jsf/composite/components/model"
                xmlns:s="http://jboss.org/seam/faces"
                template="/WEB-INF/layout/template.xhtml">

    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="id" value="#{_tournamentId}"/>
            <s:viewAction action="#{tournamentHome.selectTournament(_tournamentId)}" />
            <s:viewAction action="#{tournamentHome.populateLeaderboard}" />
		    <s:viewAction action="#{siteMessageList.find}"/>
        </f:metadata>
    </ui:define>

    <ui:define name="content">

        <div class="section">
            <h1>Tournament Details</h1>
        </div>

        <div class="section">
        	<h:dataTable id="leaderboardTable" value="#{tournamentHome.playerScores}" var="_playerScores" rendered="#{not empty tournamentHome.playerScores}">
        		<h:column id="nameCol">
				    <f:facet id="nameFct" name="header">
				    	<h:outputText value="Player" />
				    </f:facet>
				    <h:outputText value="${_playerScores.user.name}"/>
				</h:column>
				<h:column id="day1Col" rendered="#{tournament.numTeeTimes > 0}">
				    <f:facet id="nameFct" name="header">
				    	<h:outputText value="#{tournament.teeTimes.get(0).date}">
				    		<f:convertDateTime timeZone="#{defaultTimeZone}" pattern="MM/dd/yy"/>
				    	</h:outputText>
				    </f:facet>
				    <h:outputText value="${_playerScores.playerScores.get(0).score.grossScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" - " />
				    <h:outputText value="${_playerScores.playerScores.get(0).courseIndex}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" = " />
				    <h:outputText value="${_playerScores.playerScores.get(0).netScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value="   (" />
				    <h:outputText value="+" rendered="#{_playerScores.playerScores.get(0).scoreToPar ge 0}"/>
				    <h:outputText value="#{_playerScores.playerScores.get(0).scoreToPar}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0" />
				    </h:outputText>
				    <h:outputText value=")" />
				</h:column>
				<h:column id="day2Col" rendered="#{tournament.numTeeTimes > 1}">
				    <f:facet id="nameFct" name="header">
				    	<h:outputText value="#{tournament.teeTimes.get(1).date}">
				    		<f:convertDateTime timeZone="#{defaultTimeZone}" pattern="MM/dd/yy"/>
				    	</h:outputText>
				    </f:facet>
				    <h:outputText value="${_playerScores.playerScores.get(1).score.grossScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" - " />
				    <h:outputText value="${_playerScores.playerScores.get(1).courseIndex}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" = " />
				    <h:outputText value="${_playerScores.playerScores.get(1).netScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value="   (+" rendered="#{_playerScores.playerScores.get(1).scoreToPar ge 0}"/>
				    <h:outputText value="   (-" rendered="#{_playerScores.playerScores.get(1).scoreToPar lt 0}"/>
				    <h:outputText value="#{_playerScores.playerScores.get(1).scoreToPar}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=")" />
				</h:column>
				<h:column id="day3Col" rendered="#{tournament.numTeeTimes > 2}">
				    <f:facet id="nameFct" name="header">
				    	<h:outputText value="#{tournament.teeTimes.get(2).date}" />
				    </f:facet>
				    <h:outputText value="${_playerScores.playerScores.get(2).score.grossScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" - " />
				    <h:outputText value="${_playerScores.playerScores.get(2).courseIndex}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" = " />
				    <h:outputText value="${_playerScores.playerScores.get(2).netScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value="   (+" rendered="#{_playerScores.playerScores.get(2).scoreToPar ge 0}"/>
				    <h:outputText value="   (-" rendered="#{_playerScores.playerScores.get(2).scoreToPar lt 0}"/>
				    <h:outputText value="#{_playerScores.playerScores.get(2).scoreToPar}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=")" />
				</h:column>
				<h:column id="day4Col" rendered="#{tournament.numTeeTimes > 3}">
				    <f:facet id="nameFct" name="header">
				    	<h:outputText value="#{tournament.teeTimes.get(3).date}">
				    		<f:convertDateTime timeZone="#{defaultTimeZone}" pattern="MM/dd/yy"/>
				    	</h:outputText>
				    </f:facet>
				    <h:outputText value="${_playerScores.playerScores.get(3).score.grossScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" - " />
				    <h:outputText value="${_playerScores.playerScores.get(3).courseIndex}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" = " />
				    <h:outputText value="${_playerScores.playerScores.get(3).netScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value="   (+" rendered="#{_playerScores.playerScores.get(3).scoreToPar ge 0}"/>
				    <h:outputText value="   (-" rendered="#{_playerScores.playerScores.get(3).scoreToPar lt 0}"/>
				    <h:outputText value="#{_playerScores.playerScores.get(3).scoreToPar}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=")" />
				</h:column>
				<h:column id="day5Col" rendered="#{tournament.numTeeTimes > 4}">
				    <f:facet id="nameFct" name="header">
				    	<h:outputText value="#{tournament.teeTimes.get(4).date}">
				    		<f:convertDateTime timeZone="#{defaultTimeZone}" pattern="MM/dd/yy"/>
				    	</h:outputText>
				    </f:facet>
				    <h:outputText value="${_playerScores.playerScores.get(4).score.grossScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" - " />
				    <h:outputText value="${_playerScores.playerScores.get(4).courseIndex}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" = " />
				    <h:outputText value="${_playerScores.playerScores.get(4).netScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value="   (+" rendered="#{_playerScores.playerScores.get(4).scoreToPar ge 0}"/>
				    <h:outputText value="   (-" rendered="#{_playerScores.playerScores.get(4).scoreToPar lt 0}"/>
				    <h:outputText value="#{_playerScores.playerScores.get(4).scoreToPar}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=")" />
				</h:column>
				<h:column id="day6Col" rendered="#{tournament.numTeeTimes > 5}">
				    <f:facet id="nameFct" name="header">
				    	<h:outputText value="#{tournament.teeTimes.get(5).date}">
				    		<f:convertDateTime timeZone="#{defaultTimeZone}" pattern="MM/dd/yy"/>
				    	</h:outputText>
				    </f:facet>
				    <h:outputText value="${_playerScores.playerScores.get(5).score.grossScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" - " />
				    <h:outputText value="${_playerScores.playerScores.get(5).courseIndex}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=" = " />
				    <h:outputText value="${_playerScores.playerScores.get(5).netScore}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value="   (+" rendered="#{_playerScores.playerScores.get(5).scoreToPar ge 0}"/>
				    <h:outputText value="   (-" rendered="#{_playerScores.playerScores.get(5).scoreToPar lt 0}"/>
				    <h:outputText value="#{_playerScores.playerScores.get(5).scoreToPar}">
				    	<f:convertNumber minFractionDigits="0" maxFractionDigits="0"/>
				    </h:outputText>
				    <h:outputText value=")" />
				</h:column>
				<h:column id="totalCol" >
				    <f:facet id="nameFct" name="header">
				    	<h:outputText value="Total" />
				    </f:facet>
				    <h:outputText value="#{_playerScores.total}"/>
				</h:column>
			</h:dataTable>
        </div>

    </ui:define>


</ui:composition>
