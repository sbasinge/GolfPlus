<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:s="http://jboss.org/seam/faces"
                xmlns:m="http://java.sun.com/jsf/composite/components/model"
                xmlns:p="http://http://java.sun.com/jsf/composite/components/property"
                xmlns:pf="http://primefaces.org/ui"
                template="/WEB-INF/layout/template.xhtml">

    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="id" value="#{_courseId}"/>
            <s:viewAction action="#{courseHome.selectCourse(_courseId)}"/>
		    <s:viewAction action="#{siteMessageList.find}"/>
        </f:metadata>
    </ui:define>

    <ui:define name="content">

        <div class="section">
            <h1>Add Course</h1>
        </div>

        <div class="section">
        	<h:form id="newCourseForm">
	        	<fieldset>
			        <p:input label="Name">
						<pf:inputText id="input" value="#{course.name}" />
			        </p:input>
			        <p:input label="Facility">
						<pf:inputText id="input" value="#{course.name}" />
			        </p:input>
			        <p:input label="Address">
						<pf:inputText id="input" value="#{course.facility.address.addressLine1}" />
			        </p:input>
			        <p:input label="Address">
						<pf:inputText id="input" value="#{course.facility.address.addressLine2}" />
			        </p:input>
			        <p:input label="City">
						<pf:inputText id="input" value="#{course.facility.address.city}" />
			        </p:input>
			        <p:input label="Course">
						<pf:selectOneMenu id="type" value="#{course.facility.address.state}" >
						    <f:selectItem itemValue="#{null}" itemLabel="Select..." noSelectionOption="true"/>
						    <f:selectItems id="stateCombo" value="#{states}" var="_state" itemValue="#{_state}" itemLabel="#{_state.name}"/>
						</pf:selectOneMenu>
					</p:input>
			        <p:input label="Zip" >
						<pf:inputText id="input" value="#{course.facility.address.zipCode}" />
			        </p:input>
			        <p:input label="Phone">
						<pf:inputText id="input" value="#{course.facility.phone}" />
			        </p:input>
			        <h:panelGroup id="teeList">
			            <div class="section">
		                    <pf:dataTable id="members" value="#{courseHome.teeSets}" var="_tee" columnClasses=",,,,action">
		                        <pf:column id="typeCol">
		                            <f:facet id="typeFct" name="header">Type</f:facet>
		                            #{_tee.teeType}
		                        </pf:column>
		                        <pf:column id="ratingCol">
		                            <f:facet id="ratingFct" name="header">Course Rating</f:facet>
		                            <pf:inputText value="#{_tee.courseRating}" >
										<f:convertNumber maxFractionDigits="1"/>                            
		                            </pf:inputText>
		                        </pf:column>
		                        <pf:column id="slopeCol">
		                            <f:facet id="slopeFct" name="header">Slope</f:facet>
		                            <pf:inputText value="#{_tee.slopeRating}" >
										<f:convertNumber maxFractionDigits="1"/>                            
		                            </pf:inputText>
		                        </pf:column>
		                    </pf:dataTable>
			            </div>
			        </h:panelGroup>
	        	</fieldset>
				<pf:commandButton id="saveButton" action="#{courseHome.save}" value="Save"/>
				#{' '}
				<pf:commandButton id="cancelButton" action="#{courseHome.cancel}" value="Cancel" immediate="true"/>
        	</h:form>

        </div>

    </ui:define>

 

</ui:composition>
